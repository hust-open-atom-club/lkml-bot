# ==========================================
# LKML BOT 环境变量配置示例
# ==========================================
# 复制此文件为 .env 并根据实际情况填写配置

# ==========================================
# Discord Bot 配置（必需）
# ==========================================
# Discord Bot Token JSON 配置
# 获取方式：在 Discord Developer Portal 创建应用并获取 Bot Token
# https://discord.com/developers/applications
DISCORD_BOTS='[
  {
    "token": "YOUR_BOT_TOKEN_HERE",
    "intent": {
      "guild_messages": true,
      "direct_messages": true
    },
    "application_commands": {"*": ["*"]}
  }
]'

LKML_DISCORD_BOT_TOKEN=YOUR_BOT_TOKEN_HERE
LKML_DISCORD_CHANNEL_ID=CHANNEL_ID

# ==========================================
# LKML Bot 核心配置
# ==========================================

# Discord Webhook URL（可选）
# 用于发送邮件列表更新通知到 Discord 频道
# 获取方式：Discord 频道设置 > 整合 > Webhook > 新建 Webhook
# 如果未配置，消息只会在日志中记录
LKML_DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK_ID/YOUR_WEBHOOK_TOKEN

# 数据库连接 URL（可选）
# 默认：sqlite+aiosqlite:///./lkml_bot.db
# 支持 SQLite 和 PostgreSQL 等
# SQLite 示例：sqlite+aiosqlite:///./lkml_bot.db
# PostgreSQL 示例：postgresql+asyncpg://user:password@localhost:5432/lore_bot
LKML_DATABASE_URL=sqlite+aiosqlite:///./lkml_bot.db

# 手动配置的额外子系统（可选，逗号分隔）
# 注意：内核子系统会自动从 vger 服务器缓存获取
# 此配置仅用于添加无法从网页直接获取的子系统
# 示例：rust-for-linux,netdev
LKML_MANUAL_SUBSYSTEMS=rust-for-linux,netdev

# 每次更新显示的最大新闻数量（可选）
# 默认：20
LKML_MAX_NEWS_COUNT=20

# ==========================================
# NoneBot 配置（可选）
# ==========================================

# 环境标识
ENVIRONMENT=dev

# Driver 配置
# ~fastapi+~httpx+~websockets 表示使用 fastapi、httpx、websockets
DRIVER=~fastapi+~httpx+~websockets

# 日志级别

# 监控任务执行周期（秒，可选，默认 300 秒即 5 分钟）
# 最小值为 60 秒（1 分钟），避免过于频繁的请求
LKML_MONITORING_INTERVAL=300
# 可选值：DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Debug/开发辅助（可选）
# 覆盖上次更新时间的 ISO8601 字符串，用于调试或重置监控起点
# 格式：2025-11-01T00:00:00Z 或 2025-11-01T00:00:00+00:00
# 示例：LKML_LAST_UPDATE_AT=2025-11-01T00:00:00Z
LKML_LAST_UPDATE_AT=2025-11-01T00:00:00Z
